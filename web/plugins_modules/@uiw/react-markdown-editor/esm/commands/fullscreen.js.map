{
  "version": 3,
  "sources": [
    "../../src/commands/fullscreen.tsx"
  ],
  "names": [
    "React",
    "useEffect",
    "useRef",
    "useState",
    "Fullscreen",
    "props",
    "editorProps",
    "container",
    "preview",
    "editor",
    "full",
    "setFull",
    "initEditorHeight",
    "containerRef",
    "editorRef",
    "handleResize",
    "current",
    "setSize",
    "clientHeight",
    "window",
    "addEventListener",
    "removeEventListener",
    "getScrollInfo",
    "document",
    "body",
    "style",
    "overflow",
    "zIndex",
    "position",
    "top",
    "bottom",
    "left",
    "right",
    "command",
    "icon",
    "fullscreen",
    "name",
    "keyCommand",
    "button",
    "opts"
  ],
  "mappings": "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",
  "sourcesContent": [
    "import React, { useEffect, useRef, useState } from 'react';\nimport { ICommand } from './';\nimport { IMarkdownEditor } from '../';\n\ntype Options = {\n  preview?: HTMLDivElement | null | undefined;\n  container?: HTMLDivElement | null | undefined;\n  editor?: CodeMirror.Editor;\n}\n\nconst Fullscreen: React.FC<{ command: ICommand, editorProps: IMarkdownEditor & Options }> = (props) => {\n  const { editorProps: { container, preview, editor } } = props;\n  const [full, setFull] = useState(false);\n  const initEditorHeight = useRef(0);\n  const containerRef = useRef<HTMLDivElement | null>();\n  const editorRef = useRef<CodeMirror.Editor>();\n  function handleResize() {\n    if (containerRef.current && editorRef.current) {\n      editorRef.current.setSize('initial', containerRef.current.clientHeight - 35);\n    }\n  }\n  useEffect(() => {\n    window && window.addEventListener('resize', handleResize, true);\n    return () => {\n      window && window.removeEventListener('resize', handleResize, true);\n    }\n  }, []);\n  useEffect(() => {\n    if (editor) {\n      editorRef.current = editor;\n      const { clientHeight } = editor.getScrollInfo();\n      initEditorHeight.current = clientHeight;\n    }\n  }, [editor]);\n  useEffect(() => {\n    if (!document) return;\n    containerRef.current = container\n    document.body.style.overflow = full ? 'hidden' : 'initial';\n    if (container && full) {\n      container.style.zIndex = '999';\n      container.style.position = 'fixed';\n      container.style.top = '0px';\n      container.style.bottom = '0px';\n      container.style.left = '0px';\n      container.style.right = '0px';\n      editor!.setSize('initial', container.clientHeight - 35);\n    } else if (container) {\n      container.style.position = 'initial';\n      container.style.top = 'initial';\n      container.style.bottom = 'initial';\n      container.style.left = 'initial';\n      container.style.right = 'initial';\n      editor!.setSize('initial', initEditorHeight.current);\n    }\n  }, [full, container, preview]);\n  return (\n    <button\n      onClick={() => setFull(!full)}\n      type=\"button\"\n      className={full ? 'active' : ''}\n    >\n      {props.command.icon}\n    </button>\n  );\n}\n\nexport const fullscreen: ICommand = {\n  name: 'fullscreen',\n  keyCommand: 'fullscreen',\n  button: (command, props, opts) => <Fullscreen command={command} editorProps={{ ...props, ...opts }} />,\n  icon: (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 1024 1024\">\n      <path fill=\"currentColor\" d=\"M189.75 428.89a36.87 36.87 0 0 0 36.84-36.85V228.12h164a36.85 36.85 0 1 0 0-73.7H189.75a36.82 36.82 0 0 0-36.8 36.85v200.8a36.83 36.83 0 0 0 36.8 36.82zM834.26 595.06a36.82 36.82 0 0 0-36.8 36.84v164H633.41a36.85 36.85 0 0 0 0 73.7h200.85a36.87 36.87 0 0 0 36.84-36.85V631.9a36.86 36.86 0 0 0-36.84-36.84zM797.46 228.12v179.31a36.82 36.82 0 1 0 73.64 0V191.24a36.86 36.86 0 0 0-36.84-36.85H602.33a36.85 36.85 0 0 0 0 73.7zM421.62 795.9H226.54V616.56a36.82 36.82 0 1 0-73.64 0v216.19a36.83 36.83 0 0 0 36.85 36.85h231.87a36.85 36.85 0 0 0 0-73.7z\" />\n      <path fill=\"currentColor\" d=\"M306.5 307.94m32.95 0l345.1 0q32.95 0 32.95 32.95l0 342.22q0 32.95-32.95 32.95l-345.1 0q-32.95 0-32.95-32.95l0-342.22q0-32.95 32.95-32.95Z\" />\n    </svg>\n  ),\n};"
  ]
}